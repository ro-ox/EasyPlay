<Window
    x:Class="EasyPlay.Views.VideoPlayerWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:EasyPlay.Views"
    xmlns:vlc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
    Title="پخش ویدیو"
    Width="1050"
    Height="650"
    MinWidth="800"
    MinHeight="500"
    AllowsTransparency="True"
    Background="Transparent"
    Closing="Window_Closing"
    Icon="/Assets/Images/app-icon.ico"
    PreviewKeyDown="Window_PreviewKeyDown"
    ResizeMode="CanResize"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None">

    <Window.Resources>
        <Style x:Key="PlayerButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#404040" />
            <Setter Property="Foreground" Value="#ffffff" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            x:Name="bd"
                            Padding="{TemplateBinding Padding}"
                            Background="{TemplateBinding Background}"
                            CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#505050" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#606060" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style
            x:Key="PrimaryButtonStyle"
            BasedOn="{StaticResource PlayerButtonStyle}"
            TargetType="Button">
            <Setter Property="Background" Value="#ff1313" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border
                            x:Name="bd"
                            Padding="{TemplateBinding Padding}"
                            Background="{TemplateBinding Background}"
                            CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#d93a3a" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#a01212" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style
            x:Key="SmallButtonStyle"
            BasedOn="{StaticResource PlayerButtonStyle}"
            TargetType="Button">
            <Setter Property="Width" Value="32" />
            <Setter Property="Height" Value="32" />
            <Setter Property="FontSize" Value="14" />
        </Style>

        <Style x:Key="PlayerSliderStyle" TargetType="Slider">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Slider">
                        <Grid>
                            <Border
                                Height="7"
                                Background="#303030"
                                CornerRadius="3" />
                            <Border
                                Height="7"
                                HorizontalAlignment="Left"
                                Background="#ff1313"
                                CornerRadius="3">
                                <Border.Width>
                                    <MultiBinding>
                                        <MultiBinding.Converter>
                                            <local:SliderWidthConverter />
                                        </MultiBinding.Converter>
                                        <Binding Path="Value" RelativeSource="{RelativeSource TemplatedParent}" />
                                        <Binding Path="Maximum" RelativeSource="{RelativeSource TemplatedParent}" />
                                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource TemplatedParent}" />
                                    </MultiBinding>
                                </Border.Width>
                            </Border>
                            <Track x:Name="PART_Track" IsHitTestVisible="False">
                                <Track.Thumb>
                                    <Thumb>
                                        <Thumb.Style>
                                            <Style TargetType="Thumb">
                                                <Setter Property="Width" Value="16" />
                                                <Setter Property="Height" Value="16" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Thumb">
                                                            <Ellipse Fill="#ff1313" />
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Thumb.Style>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PlayerSliderVoulumStyle" TargetType="Slider">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Slider">
                        <Grid>
                            <Border
                                Height="6"
                                Background="#303030"
                                CornerRadius="3" />
                            <Border
                                Height="6"
                                HorizontalAlignment="Left"
                                Background="#ff1313"
                                CornerRadius="3">
                                <Border.Width>
                                    <MultiBinding>
                                        <MultiBinding.Converter>
                                            <local:SliderWidthConverter />
                                        </MultiBinding.Converter>
                                        <Binding Path="Value" RelativeSource="{RelativeSource TemplatedParent}" />
                                        <Binding Path="Maximum" RelativeSource="{RelativeSource TemplatedParent}" />
                                        <Binding Path="ActualWidth" RelativeSource="{RelativeSource TemplatedParent}" />
                                    </MultiBinding>
                                </Border.Width>
                            </Border>
                            <Track x:Name="PART_Track">
                                <Track.Thumb>
                                    <Thumb>
                                        <Thumb.Style>
                                            <Style TargetType="Thumb">
                                                <Setter Property="Width" Value="16" />
                                                <Setter Property="Height" Value="16" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="Thumb">
                                                            <Ellipse Fill="#ff1313" />
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </Thumb.Style>
                                    </Thumb>
                                </Track.Thumb>
                            </Track>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <DockPanel LastChildFill="True">
        <!--  Header  -->
        <Border
            x:Name="TitleBarCustom"
            Height="35"
            Background="#0f0f0f"
            BorderBrush="#ff1313"
            BorderThickness="1"
            CornerRadius="10,10,0,0"
            DockPanel.Dock="Top"
            MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <!--  App Icon & Title  -->
                <StackPanel
                    Grid.Column="0"
                    Margin="10,0,0,0"
                    VerticalAlignment="Center"
                    Orientation="Horizontal">

                    <!--  App Icon  -->
                    <Image
                        Width="20"
                        Height="20"
                        Margin="0,0,8,0"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        Source="/Assets/Images/app-icon.ico" />

                    <!--  Title  -->
                    <TextBlock
                        VerticalAlignment="Center"
                        FontSize="13"
                        FontWeight="SemiBold"
                        Foreground="#ff1313"
                        Text="{Binding Title}" />
                </StackPanel>

                <!--  Window Control Buttons  -->
                <StackPanel Grid.Column="2" Orientation="Horizontal">

                    <!--  Minimize Button  -->
                    <Button
                        Width="45"
                        Height="35"
                        Click="MinimizeButton_Click"
                        Style="{StaticResource TitleBarButtonStyle}"
                        ToolTip="کمینه کردن">
                        <TextBlock
                            FontFamily="{StaticResource AppFontAwesomeRegular}"
                            FontSize="14"
                            Foreground="#b0b0b0"
                            Text="&#xf068;" />
                    </Button>

                    <!--  Restore Default Size Button  -->
                    <Button
                        x:Name="RestoreDefaultButton"
                        Width="0"
                        Height="35"
                        Click="RestoreDefaultButton_Click"
                        Style="{StaticResource TitleBarButtonStyle}"
                        ToolTip="بازگشت به اندازه پیش‌فرض"
                        Visibility="Hidden">
                        <TextBlock
                            FontFamily="{StaticResource AppFontAwesomeRegular}"
                            FontSize="14"
                            Foreground="#b0b0b0"
                            Text="&#xf065;" />
                    </Button>

                    <!--  Maximize/Restore Button  -->
                    <Button
                        x:Name="MaximizeButton"
                        Width="0"
                        Height="35"
                        Click="MaximizeButton_Click"
                        Style="{StaticResource TitleBarButtonStyle}"
                        ToolTip="بزرگ کردن / بازگشت"
                        Visibility="Hidden">
                        <TextBlock
                            x:Name="MaximizeIcon"
                            FontFamily="{StaticResource AppFontAwesomeRegular}"
                            FontSize="14"
                            Foreground="#b0b0b0"
                            Text="&#xf2d0;" />
                    </Button>

                    <!--  Close Button  -->
                    <Button
                        Width="45"
                        Height="35"
                        Click="CloseButton_Click"
                        Style="{StaticResource TitleBarCloseButtonStyle}"
                        ToolTip="بستن">
                        <TextBlock
                            FontFamily="{StaticResource AppFontAwesomeRegular}"
                            FontSize="14"
                            Foreground="#b0b0b0"
                            Text="&#xf00d;" />
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <Border
            Background="Transparent"
            BorderBrush="#ff1313"
            BorderThickness="1,0,1,1"
            ClipToBounds="True"
            CornerRadius="0,0,10,10">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <vlc:VideoView
                    x:Name="VideoView"
                    Grid.Row="0"
                    Background="#000000"
                    MouseDoubleClick="VideoView_MouseDoubleClick"
                    MouseDown="Window_MouseDown"
                    MouseLeftButtonDown="VideoView_MouseLeftButtonDown"
                    MouseMove="VideoView_MouseMove"
                    MouseWheel="Window_MouseWheel" />

                <Popup
                    x:Name="SeekOverlayPopup"
                    AllowsTransparency="True"
                    IsHitTestVisible="False"
                    IsOpen="False"
                    Placement="Center"
                    PlacementTarget="{Binding ElementName=VideoView}"
                    StaysOpen="True">
                    <Border
                        Padding="20,12"
                        Background="#80ffffff"
                        CornerRadius="12">
                        <TextBlock
                            x:Name="SeekOverlayText"
                            FontFamily="{StaticResource AppFont}"
                            FontSize="26"
                            FontWeight="Bold"
                            Foreground="Black" />
                    </Border>
                </Popup>

                <Popup
                    x:Name="VolumeOverlayPopup"
                    AllowsTransparency="True"
                    IsHitTestVisible="False"
                    IsOpen="False"
                    Placement="Center"
                    PlacementTarget="{Binding ElementName=VideoView}"
                    StaysOpen="True">
                    <Border
                        Padding="20,12"
                        Background="#80ffffff"
                        CornerRadius="12">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock
                                x:Name="VolumeIcon"
                                Margin="0,0,10,0"
                                VerticalAlignment="Center"
                                FontFamily="{StaticResource AppFontAwesomeRegular}"
                                FontSize="28"
                                Foreground="Black"
                                Text="&#xf028;" />
                            <TextBlock
                                x:Name="VolumeOverlayText"
                                VerticalAlignment="Center"
                                FontFamily="{StaticResource AppFont}"
                                FontSize="26"
                                FontWeight="Bold"
                                Foreground="Black"
                                Text="100%" />
                        </StackPanel>
                    </Border>
                </Popup>

                <!--  Loading Overlay  -->
                <Grid
                    x:Name="LoadingOverlay"
                    Background="#CC000000"
                    Visibility="Collapsed">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">

                        <!--  Spinner  -->
                        <TextBlock
                            FontSize="72"
                            Foreground="#ff1313"
                            Style="{StaticResource FontAwesomeSpinnerStyle}"
                            Text="&#xf110;" />

                        <TextBlock
                            x:Name="LoadingText"
                            FlowDirection="RightToLeft"
                            FontFamily="{StaticResource AppFont}"
                            FontSize="16"
                            Foreground="#ffffff"
                            Text="در حال بارگذاری پخش کننده..." />
                    </StackPanel>
                </Grid>


                <Grid Grid.Row="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <Border
                        x:Name="ControlsPanel"
                        Grid.Row="0"
                        Padding="20,15"
                        Background="#1a1a1a"
                        CornerRadius="0,0,10,10">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="15" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <Slider
                                x:Name="ProgressSlider"
                                Grid.Row="0"
                                VerticalAlignment="Center"
                                Focusable="False"
                                IsMoveToPointEnabled="False"
                                IsTabStop="False"
                                Maximum="100"
                                Minimum="0"
                                MouseLeave="ProgressSlider_MouseLeave"
                                MouseMove="ProgressSlider_MouseMove"
                                PreviewMouseDown="ProgressSlider_MouseDown"
                                PreviewMouseUp="ProgressSlider_MouseUp"
                                Style="{StaticResource PlayerSliderStyle}"
                                Value="0" />

                            <Popup
                                x:Name="ProgressTooltipPopup"
                                AllowsTransparency="True"
                                IsHitTestVisible="False"
                                Placement="Absolute"
                                StaysOpen="True">
                                <Border
                                    Padding="8,6"
                                    Background="#252525"
                                    BorderBrush="#404040"
                                    BorderThickness="1"
                                    CornerRadius="4">
                                    <TextBlock
                                        x:Name="ProgressTooltipText"
                                        FontFamily="Consolas"
                                        FontSize="13"
                                        Foreground="White"
                                        Text="00:00:00" />
                                </Border>
                            </Popup>

                            <Grid Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0" Orientation="Horizontal">
                                    <Button
                                        x:Name="PlayPauseButton"
                                        Width="44"
                                        Height="44"
                                        Click="PlayPause_Click"
                                        FontSize="16"
                                        Style="{StaticResource PrimaryButtonStyle}">
                                        <TextBlock Style="{StaticResource FontAwesomeStyleIconTextBlock}" Text="&#xf04b;" />
                                    </Button>

                                    <Button
                                        Width="38"
                                        Height="38"
                                        Margin="8,0,0,0"
                                        Click="Stop_Click"
                                        FontSize="14"
                                        Style="{StaticResource PlayerButtonStyle}">
                                        <TextBlock
                                            FontSize="16"
                                            Style="{StaticResource FontAwesomeStyleIconTextBlock}"
                                            Text="&#xf04d;" />
                                    </Button>
                                </StackPanel>

                                <StackPanel
                                    Grid.Column="1"
                                    Margin="20,0,0,0"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal">
                                    <TextBlock
                                        VerticalAlignment="Center"
                                        FontSize="14"
                                        Foreground="#b0b0b0"
                                        Style="{StaticResource FontAwesomeStyleIconTextBlock}"
                                        Text="&#xf028;" />
                                    <Slider
                                        x:Name="VolumeSlider"
                                        Width="80"
                                        Margin="8,0,0,0"
                                        VerticalAlignment="Center"
                                        Focusable="False"
                                        IsMoveToPointEnabled="True"
                                        IsTabStop="False"
                                        Maximum="100"
                                        Minimum="0"
                                        Style="{StaticResource PlayerSliderVoulumStyle}"
                                        ValueChanged="VolumeSlider_ValueChanged"
                                        Value="100" />
                                </StackPanel>

                                <TextBlock
                                    x:Name="TimeText"
                                    Grid.Column="2"
                                    Margin="20,0,0,0"
                                    VerticalAlignment="Center"
                                    FontFamily="Consolas"
                                    FontSize="13"
                                    Foreground="#808080"
                                    Text="00:00:00 / 00:00:00" />

                                <StackPanel
                                    Grid.Column="4"
                                    Margin="0,0,10,0"
                                    Orientation="Horizontal"
                                    Visibility="Hidden">

                                    <Border
                                        Padding="10,6"
                                        Background="#252525"
                                        CornerRadius="8">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock
                                                VerticalAlignment="Center"
                                                FontSize="11"
                                                Foreground="#808080"
                                                Text="سرعت" />
                                            <Button
                                                Width="28"
                                                Height="28"
                                                Margin="10,0,0,0"
                                                Click="SpeedDown_Click"
                                                Content="-"
                                                FontSize="14"
                                                Style="{StaticResource SmallButtonStyle}"
                                                ToolTip="کاهش سرعت" />
                                            <TextBlock
                                                x:Name="SpeedText"
                                                Width="45"
                                                VerticalAlignment="Center"
                                                FontSize="11"
                                                Foreground="#ffffff"
                                                Text="1x"
                                                TextAlignment="Center" />
                                            <Button
                                                Width="28"
                                                Height="28"
                                                Click="SpeedUp_Click"
                                                Content="+"
                                                FontSize="14"
                                                Style="{StaticResource SmallButtonStyle}"
                                                ToolTip="افزایش سرعت" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>

                                <Border
                                    Grid.Column="4"
                                    Margin="0,0,10,0"
                                    Padding="10,6"
                                    Background="#252525"
                                    CornerRadius="8">
                                    <StackPanel Orientation="Horizontal">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock
                                                VerticalAlignment="Center"
                                                FontSize="11"
                                                Foreground="#808080"
                                                Text="تاخیر زیرنویس" />
                                            <Button
                                                Width="28"
                                                Height="28"
                                                Margin="10,0,0,0"
                                                Click="SubtitleDelayMinus_Click"
                                                Content="-"
                                                FontSize="14"
                                                Style="{StaticResource SmallButtonStyle}"
                                                ToolTip="0.5 ثانیه عقب" />
                                            <TextBlock
                                                x:Name="SubtitleDelayText"
                                                Width="45"
                                                VerticalAlignment="Center"
                                                FontSize="11"
                                                Foreground="#ffffff"
                                                Text="0.0s"
                                                TextAlignment="Center" />
                                            <Button
                                                Width="28"
                                                Height="28"
                                                Click="SubtitleDelayPlus_Click"
                                                Content="+"
                                                FontSize="14"
                                                Style="{StaticResource SmallButtonStyle}"
                                                ToolTip="0.5 ثانیه جلو" />
                                        </StackPanel>

                                        <Rectangle
                                            Width="1"
                                            Margin="10,4"
                                            Fill="#404040" />

                                        <Button
                                            Width="28"
                                            Height="28"
                                            Click="SubtitleSizeDown_Click"
                                            Content="A"
                                            FontSize="10"
                                            Style="{StaticResource SmallButtonStyle}"
                                            ToolTip="کوچکتر" />
                                        <TextBlock
                                            x:Name="SubtitleSizeText"
                                            Width="35"
                                            VerticalAlignment="Center"
                                            FontSize="11"
                                            Foreground="#ffffff"
                                            Text="28"
                                            TextAlignment="Center" />
                                        <Button
                                            Width="28"
                                            Height="28"
                                            Click="SubtitleSizeUp_Click"
                                            Content="A"
                                            FontSize="14"
                                            FontWeight="Bold"
                                            Style="{StaticResource SmallButtonStyle}"
                                            ToolTip="بزرگتر" />

                                        <Rectangle
                                            Width="1"
                                            Margin="10,4"
                                            Fill="#404040" />

                                        <Button
                                            x:Name="SubtitleColorButton"
                                            Width="28"
                                            Height="28"
                                            Click="SubtitleColor_Click"
                                            Style="{StaticResource SmallButtonStyle}"
                                            ToolTip="رنگ زیرنویس">
                                            <Ellipse
                                                x:Name="SubtitleColorIndicator"
                                                Width="14"
                                                Height="14"
                                                Fill="#ffffff"
                                                Stroke="#808080"
                                                StrokeThickness="1" />
                                        </Button>

                                        <Rectangle
                                            Width="1"
                                            Margin="10,4"
                                            Fill="#404040" />

                                        <Button
                                            x:Name="SubtitleToggleButton"
                                            Width="28"
                                            Height="28"
                                            Click="SubtitleToggle_Click"
                                            FontSize="10"
                                            FontWeight="Bold"
                                            Style="{StaticResource SmallButtonStyle}"
                                            ToolTip="نمایش/مخفی (C)">
                                            <TextBlock
                                                Margin="0"
                                                FontSize="15"
                                                Style="{StaticResource FontAwesomeStyleIconTextBlock}"
                                                Text="&#xf20a;" />
                                        </Button>

                                        <Rectangle
                                            Width="1"
                                            Margin="10,4"
                                            Fill="#404040" />

                                        <Button
                                            x:Name="RenderModeButton"
                                            Width="37"
                                            Height="28"
                                            Click="RenderMode_Click"
                                            Style="{StaticResource SmallButtonStyle}"
                                            ToolTip="حالت رندرینگ">
                                            <TextBlock
                                                x:Name="RenderModeIcon"
                                                FontSize="15"
                                                Style="{StaticResource FontAwesomeStyleIconTextBlock}"
                                                Text="&#xf26c;" />
                                            <!--  fa-tv  -->
                                        </Button>
                                    </StackPanel>
                                </Border>

                                <Button
                                    x:Name="FullscreenButton"
                                    Grid.Column="5"
                                    Width="44"
                                    Height="44"
                                    Click="Fullscreen_Click"
                                    FontSize="18"
                                    Style="{StaticResource PlayerButtonStyle}"
                                    ToolTip="تمام صفحه (F)">
                                    <TextBlock Style="{StaticResource FontAwesomeStyleIconTextBlock}" Text="&#xf065;" />
                                </Button>
                            </Grid>
                        </Grid>
                    </Border>
                </Grid>

                <Popup
                    x:Name="ColorPickerPopup"
                    AllowsTransparency="True"
                    Placement="Top"
                    PlacementTarget="{Binding ElementName=SubtitleColorButton}"
                    StaysOpen="False">
                    <Border
                        Padding="10"
                        Background="#252525"
                        BorderBrush="#404040"
                        BorderThickness="1"
                        CornerRadius="8">
                        <WrapPanel Width="160">
                            <Button
                                Width="32"
                                Height="32"
                                Margin="3"
                                Background="#FFFFFF"
                                Click="ColorOption_Click"
                                Style="{StaticResource PlayerButtonStyle}"
                                Tag="#FFFFFF" />
                            <Button
                                Width="32"
                                Height="32"
                                Margin="3"
                                Background="#FFFF00"
                                Click="ColorOption_Click"
                                Style="{StaticResource PlayerButtonStyle}"
                                Tag="#FFFF00" />
                            <Button
                                Width="32"
                                Height="32"
                                Margin="3"
                                Background="#00FF00"
                                Click="ColorOption_Click"
                                Style="{StaticResource PlayerButtonStyle}"
                                Tag="#00FF00" />
                            <Button
                                Width="32"
                                Height="32"
                                Margin="3"
                                Background="#00FFFF"
                                Click="ColorOption_Click"
                                Style="{StaticResource PlayerButtonStyle}"
                                Tag="#00FFFF" />
                            <Button
                                Width="32"
                                Height="32"
                                Margin="3"
                                Background="#FF69B4"
                                Click="ColorOption_Click"
                                Style="{StaticResource PlayerButtonStyle}"
                                Tag="#FF69B4" />
                            <Button
                                Width="32"
                                Height="32"
                                Margin="3"
                                Background="#FFA500"
                                Click="ColorOption_Click"
                                Style="{StaticResource PlayerButtonStyle}"
                                Tag="#FFA500" />
                            <Button
                                Width="32"
                                Height="32"
                                Margin="3"
                                Background="#FF0000"
                                Click="ColorOption_Click"
                                Style="{StaticResource PlayerButtonStyle}"
                                Tag="#FF0000" />
                            <Button
                                Width="32"
                                Height="32"
                                Margin="3"
                                Background="#C0C0C0"
                                Click="ColorOption_Click"
                                Style="{StaticResource PlayerButtonStyle}"
                                Tag="#C0C0C0" />
                        </WrapPanel>
                    </Border>
                </Popup>
            </Grid>
        </Border>
    </DockPanel>

</Window>